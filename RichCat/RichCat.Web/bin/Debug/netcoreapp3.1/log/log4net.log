[2022-04-18 09:21:48,771] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 09:21:48,798] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 09:21:48,803] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 09:22:19,442] [7] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 09:25:12,134] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 09:25:12,175] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 09:25:12,179] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 09:25:16,883] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 09:25:17,516] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 09:25:17,778] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 09:25:18,486] [4] DEBUG Microsoft.EntityFrameworkCore.Model.Validation - The property 'TB_MENUID' on entity type 'TB_MENUROLE' was created in shadow state because there are no eligible CLR members with a matching name.
[2022-04-18 09:25:18,487] [4] DEBUG Microsoft.EntityFrameworkCore.Model.Validation - The property 'TB_ROLEID' on entity type 'TB_MENUROLE' was created in shadow state because there are no eligible CLR members with a matching name.
[2022-04-18 09:25:18,487] [4] DEBUG Microsoft.EntityFrameworkCore.Model.Validation - The property 'TB_ROLEID' on entity type 'TB_USERROLE' was created in shadow state because there are no eligible CLR members with a matching name.
[2022-04-18 09:25:18,487] [4] DEBUG Microsoft.EntityFrameworkCore.Model.Validation - The property 'TB_USERSID' on entity type 'TB_USERROLE' was created in shadow state because there are no eligible CLR members with a matching name.
[2022-04-18 09:25:18,488] [4] DEBUG Microsoft.EntityFrameworkCore.Model.Validation - The property 'TB_DEPARTMENTID' on entity type 'TB_USERS' was created in shadow state because there are no eligible CLR members with a matching name.
[2022-04-18 09:25:18,596] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 09:25:18,817] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<TB_USERS>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, TB_USERS>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 09:25:18,851] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 09:25:19,100] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (243ms).
[2022-04-18 09:25:19,105] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 09:25:19,420] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 09:25:19,431] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[ID], [u].[CREATETIME], [u].[DEPARTMENT_ID], [u].[FULLNAME], [u].[MODIFYTIME], [u].[REMARK], [u].[STATUS], [u].[TB_DEPARTMENTID], [u].[USER_NAME], [u].[USER_PASSWORD]
FROM [USERSs] AS [u]
[2022-04-18 09:25:19,466] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[ID], [u].[CREATETIME], [u].[DEPARTMENT_ID], [u].[FULLNAME], [u].[MODIFYTIME], [u].[REMARK], [u].[STATUS], [u].[TB_DEPARTMENTID], [u].[USER_NAME], [u].[USER_PASSWORD]
FROM [USERSs] AS [u]
[2022-04-18 09:25:19,477] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 09:25:19,480] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 09:25:19,487] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 09:25:19,553] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 09:25:19,557] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 10:09:49,591] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 10:09:49,633] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 10:09:49,640] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 10:11:39,496] [6] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 10:11:39,791] [6] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 10:11:40,545] [6] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 10:33:59,573] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 10:34:00,161] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 10:34:00,162] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 10:34:00,285] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 10:34:00,403] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 10:34:00,407] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 10:34:00,521] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 10:34:20,100] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 10:34:20,565] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 10:34:20,567] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 10:34:20,753] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 10:34:20,938] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 10:34:20,944] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 10:34:20,971] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Generating up script for migration '20220418023400_RichCatInitial'.
[2022-04-18 10:34:21,028] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 10:34:35,649] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 10:34:36,071] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 10:34:36,072] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 10:34:36,217] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 10:34:36,275] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 10:34:36,289] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,478] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,490] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:34:36,498] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (8ms).
[2022-04-18 10:34:36,510] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:34:36,546] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:34:36,550] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,556] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,560] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 10:34:36,561] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 10:34:36,561] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,563] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,564] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:34:36,594] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:34:36,595] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,597] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,600] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,600] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,601] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:34:36,602] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:34:36,602] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:34:36,605] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:34:36,606] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,607] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,607] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 10:34:36,608] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 10:34:36,608] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,608] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,609] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:34:36,610] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:34:36,610] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,610] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,626] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 10:34:36,627] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 10:34:36,627] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,628] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,629] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 10:34:36,655] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 10:34:36,659] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 10:34:36,660] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,660] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,674] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418023400_RichCatInitial'.
[2022-04-18 10:34:36,742] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,743] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,747] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 10:34:36,756] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 10:34:36,758] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:34:36,759] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:34:36,760] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 10:34:36,890] [1] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (128ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 10:34:36,894] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 10:34:36,896] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,896] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:34:36,899] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 10:34:59,506] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 10:34:59,897] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 10:34:59,898] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 10:35:00,035] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 10:35:00,100] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 10:35:00,112] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:00,302] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:00,822] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:10,874] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:10,880] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:10,894] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:10,961] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 10:35:10,978] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 10:35:10,989] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:10,996] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (8ms).
[2022-04-18 10:35:11,004] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 10:35:12,501] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,482ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 10:35:12,506] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:12,507] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 10:35:12,508] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 10:35:12,913] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (405ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 10:35:12,923] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 10:35:12,944] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 10:35:12,950] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:12,955] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:12,956] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:12,957] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:12,958] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:35:12,971] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:35:12,972] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:12,973] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,054] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 10:35:13,057] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 10:35:13,068] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,068] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,069] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,070] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,070] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 10:35:13,108] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 10:35:13,109] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,110] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,112] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,113] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,114] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,114] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,115] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:35:13,116] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 10:35:13,116] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,117] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,120] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 10:35:13,120] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 10:35:13,121] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,121] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,122] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:35:13,151] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 10:35:13,152] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,153] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,156] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 10:35:13,157] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 10:35:13,158] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,158] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,159] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 10:35:13,164] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 10:35:13,168] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 10:35:13,169] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,169] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,190] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418023400_RichCatInitial'.
[2022-04-18 10:35:13,226] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,226] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,229] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 10:35:13,235] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 10:35:13,237] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,238] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,239] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 10:35:13,242] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 10:35:13,242] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,243] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,244] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 10:35:13,246] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 10:35:13,247] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,247] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,248] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 10:35:13,252] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 10:35:13,253] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,253] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,254] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NULL,
    [ModifyTime] date NULL,
    [REMARK] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,257] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NULL,
    [ModifyTime] date NULL,
    [REMARK] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,257] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,258] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,259] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,261] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,262] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,263] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,263] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,267] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 10:35:13,268] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,269] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,269] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 10:35:13,271] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 10:35:13,271] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,272] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,272] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 10:35:13,274] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 10:35:13,274] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,275] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,275] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 10:35:13,277] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 10:35:13,277] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 10:35:13,278] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 10:35:13,278] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418023400_RichCatInitial', N'3.1.24');
[2022-04-18 10:35:13,281] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418023400_RichCatInitial', N'3.1.24');
[2022-04-18 10:35:13,283] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 10:35:13,287] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 10:35:13,288] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 10:35:13,289] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,289] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 10:35:13,291] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:29:49,376] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:29:49,800] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:29:49,800] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:29:49,918] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:29:50,028] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 11:29:50,032] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 11:29:50,116] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:30:17,620] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:30:18,094] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:30:18,095] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:30:18,288] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:30:18,345] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 11:30:18,355] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:18,549] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:19,065] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:29,107] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:29,109] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:29,112] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:29,170] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 11:30:29,188] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 11:30:29,196] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:29,202] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (6ms).
[2022-04-18 11:30:29,210] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 11:30:30,578] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,357ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 11:30:30,584] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:30,585] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 11:30:30,586] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 11:30:30,995] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (408ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 11:30:31,004] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 11:30:31,025] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 11:30:31,027] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,030] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,032] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,032] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,033] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:30:31,041] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:30:31,042] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,042] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,121] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 11:30:31,124] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 11:30:31,135] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,135] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,136] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,137] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,137] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 11:30:31,167] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 11:30:31,168] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,169] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,172] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,172] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,173] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,174] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,174] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:30:31,175] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:30:31,176] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,176] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,179] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 11:30:31,180] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 11:30:31,180] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,181] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,182] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:30:31,199] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:30:31,200] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,202] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,204] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 11:30:31,204] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 11:30:31,205] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,205] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,206] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:30:31,210] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:30:31,212] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 11:30:31,214] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,214] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,227] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418032950_RichCatInitial'.
[2022-04-18 11:30:31,266] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,266] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,269] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 11:30:31,275] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 11:30:31,277] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,277] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,278] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 11:30:31,281] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID])
);
[2022-04-18 11:30:31,282] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,282] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,284] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 11:30:31,287] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 11:30:31,288] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,289] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,290] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 11:30:31,294] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 11:30:31,295] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,295] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,296] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,302] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,303] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,305] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 11:30:31,306] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,310] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,311] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,311] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,312] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,316] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:30:31,317] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,318] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,318] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 11:30:31,320] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 11:30:31,320] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,321] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,321] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 11:30:31,323] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 11:30:31,324] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,324] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,325] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 11:30:31,326] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 11:30:31,327] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:30:31,327] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:30:31,328] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418032950_RichCatInitial', N'3.1.24');
[2022-04-18 11:30:31,330] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418032950_RichCatInitial', N'3.1.24');
[2022-04-18 11:30:31,333] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 11:30:31,338] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 11:30:31,342] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 11:30:31,342] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,343] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:30:31,345] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:45:46,162] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:45:46,818] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:45:46,819] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:45:46,981] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:45:47,126] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 11:45:47,130] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 11:45:47,229] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:46:07,527] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:46:07,955] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:46:07,956] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:46:08,145] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:46:08,197] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 11:46:08,208] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:08,396] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:08,909] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:18,939] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:18,942] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:18,950] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:19,000] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 11:46:19,016] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 11:46:19,024] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:19,031] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (7ms).
[2022-04-18 11:46:19,039] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 11:46:20,424] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,381ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 11:46:20,427] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:20,427] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:46:20,428] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 11:46:20,849] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (421ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 11:46:20,852] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 11:46:20,858] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 11:46:20,859] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,865] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,866] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:20,866] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:46:20,867] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:46:20,875] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:46:20,876] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,876] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,962] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 11:46:20,966] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 11:46:20,976] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:20,977] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:46:20,977] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,979] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:20,979] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 11:46:21,012] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 11:46:21,013] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,014] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,016] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,016] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,017] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:21,017] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:46:21,017] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:46:21,018] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:46:21,019] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,019] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,021] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 11:46:21,022] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 11:46:21,022] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,023] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,024] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:46:21,042] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:46:21,043] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,044] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,046] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 11:46:21,047] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 11:46:21,047] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,048] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,049] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:46:21,052] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:46:21,054] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 11:46:21,056] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,056] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,071] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418034547_RichCatInitial'.
[2022-04-18 11:46:21,108] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,109] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,112] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 11:46:21,119] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 11:46:21,120] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:46:21,121] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:46:21,122] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:46:21,184] [1] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:46:21,193] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 11:46:21,196] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,198] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:46:21,204] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:52:31,725] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:52:32,141] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:52:32,142] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:52:32,318] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:52:32,493] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 11:52:32,498] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 11:52:32,643] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 11:52:47,879] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 11:52:48,321] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 11:52:48,322] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 11:52:48,528] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 11:52:48,600] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 11:52:48,610] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,831] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,845] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:48,859] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (12ms).
[2022-04-18 11:52:48,871] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:52:48,910] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:52:48,914] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,920] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,924] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 11:52:48,925] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 11:52:48,926] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,927] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,928] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:52:48,958] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:52:48,958] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,960] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,962] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,962] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,963] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:48,963] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:48,964] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:52:48,966] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 11:52:48,967] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,967] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,967] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 11:52:48,968] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 11:52:48,968] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,969] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,969] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:52:48,970] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 11:52:48,970] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,970] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,984] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 11:52:48,985] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 11:52:48,986] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,986] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,987] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:52:48,989] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 11:52:48,991] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 11:52:48,992] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:48,993] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:49,009] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418035232_RichCatInitial'.
[2022-04-18 11:52:49,094] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:49,095] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:49,098] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 11:52:49,108] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 11:52:49,110] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,111] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,112] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([ID]) ON DELETE NO ACTION
);
[2022-04-18 11:52:49,115] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [ID] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([ID]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([ID]) ON DELETE NO ACTION
);
[2022-04-18 11:52:49,116] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,116] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,117] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 11:52:49,119] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 11:52:49,120] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,120] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,121] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 11:52:49,123] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 11:52:49,124] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,124] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,125] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,134] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([ID]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,134] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,135] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,136] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,138] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TB_MENUROLEs] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_TB_MENUROLEs] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_TB_MENUROLEs_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TB_MENUROLEs_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,139] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,140] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,140] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,143] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 11:52:49,144] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,145] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,145] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 11:52:49,147] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 11:52:49,147] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,148] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,148] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 11:52:49,150] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TB_MENUROLEs_RoleId] ON [TB_MENUROLEs] ([RoleId]);
[2022-04-18 11:52:49,150] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,151] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,151] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 11:52:49,153] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 11:52:49,153] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,154] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,154] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 11:52:49,155] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 11:52:49,156] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 11:52:49,156] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 11:52:49,157] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418035232_RichCatInitial', N'3.1.24');
[2022-04-18 11:52:49,159] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418035232_RichCatInitial', N'3.1.24');
[2022-04-18 11:52:49,161] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 11:52:49,164] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 11:52:49,166] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 11:52:49,167] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:49,167] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 11:52:49,169] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 12:36:01,169] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 12:36:01,193] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 12:36:01,197] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 12:36:06,421] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 12:36:06,618] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 12:36:06,828] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 12:36:07,324] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 12:36:07,325] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 12:36:07,602] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 12:36:07,924] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 12:36:07,954] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 12:36:07,999] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (41ms).
[2022-04-18 12:36:08,007] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 12:36:08,215] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 12:36:08,226] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 12:36:08,287] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 12:36:08,301] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 12:36:08,305] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 12:36:08,316] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 12:36:08,365] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 12:36:08,367] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 12:37:11,401] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 12:37:11,430] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 12:37:11,435] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 12:37:15,966] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 12:37:16,152] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 12:37:16,306] [5] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 12:40:47,603] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 12:40:47,633] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 12:40:47,636] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 12:40:56,541] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 12:40:56,708] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 12:40:56,851] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 12:42:43,126] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 12:42:43,151] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 12:42:43,155] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 13:52:10,150] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 13:52:10,179] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 13:52:10,193] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 13:52:27,357] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 13:52:27,523] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 13:52:33,226] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 13:52:33,228] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 13:52:33,478] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 13:52:33,522] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:33,727] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:33,742] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:33,754] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (12ms).
[2022-04-18 13:52:33,769] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:52:33,805] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:52:33,808] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:33,814] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:33,866] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:52:33,873] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:52:33,874] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:33,875] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:33,876] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:52:36,911] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3,034ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:52:36,913] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:36,914] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 13:52:36,915] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:52:37,020] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:52:37,020] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:52:37,021] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:52:37,022] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:47,052] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:47,063] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:52:47,066] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:52:47,066] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:47,067] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:47,068] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:52:48,396] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,327ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:52:48,397] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:48,397] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:48,398] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:52:48,776] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (378ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:52:48,777] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:52:48,778] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:52:48,780] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:48,792] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:48,792] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:48,793] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:48,793] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:52:48,795] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:52:48,796] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:48,796] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:48,888] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:48,895] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:48,916] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:48,931] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:48,942] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:48,949] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:52:49,054] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 13:52:49,100] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 13:52:49,150] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 13:52:49,155] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 13:52:49,199] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:49,199] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:52:49,205] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 13:52:49,213] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 13:52:49,214] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,215] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,216] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 13:52:49,250] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 13:52:49,250] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,251] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,252] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 13:52:49,256] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 13:52:49,257] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,257] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,258] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 13:52:49,260] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 13:52:49,261] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,261] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,261] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,265] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,265] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,266] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,266] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,272] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,272] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,273] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,274] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,277] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:52:49,277] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:52:49,277] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:52:49,278] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('570d0a2b-f326-44ec-8d67-b5c681bb6665', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 13:52:49,509] [4] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (229ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('570d0a2b-f326-44ec-8d67-b5c681bb6665', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 13:54:16,207] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 13:54:16,233] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 13:54:16,241] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 13:54:28,409] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 13:54:28,627] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 13:54:29,252] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 13:54:29,253] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 13:54:29,522] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 13:54:29,580] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:29,790] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:29,799] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:29,809] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (7ms).
[2022-04-18 13:54:29,817] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:54:29,846] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:54:29,850] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:29,857] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:29,906] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:54:29,910] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:54:29,911] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:29,911] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:29,912] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:54:29,927] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:54:29,927] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:29,927] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:29,928] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:54:30,013] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:54:30,014] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:54:30,014] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:54:30,016] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:40,060] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:40,082] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:54:40,086] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:54:40,087] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:40,088] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:40,089] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:54:41,465] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,376ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:54:41,467] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:41,468] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:41,469] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:54:41,927] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (457ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:54:41,931] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:54:41,935] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:54:41,941] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:41,950] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:41,951] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:41,951] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:41,952] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:54:41,954] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:54:41,955] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:41,956] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:42,041] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,050] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,079] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,094] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,103] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,110] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:54:42,201] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 13:54:42,226] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 13:54:42,276] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 13:54:42,279] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 13:54:42,339] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:42,340] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:54:42,343] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 13:54:42,351] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 13:54:42,352] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:54:42,352] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:54:42,354] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:54:42,411] [4] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:40,058] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 13:55:40,095] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 13:55:40,102] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 13:55:45,685] [10] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 13:55:45,911] [10] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 13:55:46,443] [10] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 13:55:46,444] [10] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 13:55:46,670] [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 13:55:46,721] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:46,933] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:46,946] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:46,954] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (10ms).
[2022-04-18 13:55:46,968] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:55:47,000] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:55:47,004] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:47,011] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:47,059] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:55:47,063] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:55:47,064] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:47,064] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:47,065] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:55:47,072] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 13:55:47,074] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:47,074] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:47,075] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:55:47,188] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 13:55:47,189] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:55:47,189] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:55:47,192] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:57,230] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:57,248] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 13:55:57,250] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 13:55:57,251] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:57,252] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 13:55:57,252] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:55:58,634] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,381ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 13:55:58,635] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:58,636] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:58,637] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:55:58,995] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (357ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 13:55:58,998] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 13:55:59,002] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 13:55:59,008] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,020] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,021] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,022] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,022] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:55:59,025] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 13:55:59,026] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,027] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,099] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,106] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,128] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,143] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,153] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,160] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 13:55:59,246] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 13:55:59,271] [10] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 13:55:59,317] [10] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 13:55:59,320] [10] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 13:55:59,366] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,366] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,369] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 13:55:59,374] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 13:55:59,376] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,376] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,377] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,444] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,444] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,445] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,445] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,449] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,449] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,450] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,450] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,453] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 13:55:59,454] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,454] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,455] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,479] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,479] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,480] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,480] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,484] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,485] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,485] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,486] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,491] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 13:55:59,492] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,492] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,492] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('fba2677d-fb0d-47d2-8b27-372853952089', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 13:55:59,538] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('fba2677d-fb0d-47d2-8b27-372853952089', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 13:55:59,539] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,539] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,539] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('eaed6f5c-7d49-4d7b-833e-49b34b4b2e4f', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 13:55:59,552] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('eaed6f5c-7d49-4d7b-833e-49b34b4b2e4f', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 13:55:59,553] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,553] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,553] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('9ccb112c-d687-400a-9f38-0142af203c60', '2022-04-18T13:55:46.3945833+08:00', '2022-04-18T13:55:46.3947048+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 13:55:59,585] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('9ccb112c-d687-400a-9f38-0142af203c60', '2022-04-18T13:55:46.3945833+08:00', '2022-04-18T13:55:46.3947048+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 13:55:59,585] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,586] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,586] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('eaed6f5c-7d49-4d7b-833e-49b34b4b2e4f', '9ccb112c-d687-400a-9f38-0142af203c60', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 13:55:59,601] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('eaed6f5c-7d49-4d7b-833e-49b34b4b2e4f', '9ccb112c-d687-400a-9f38-0142af203c60', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 13:55:59,602] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,602] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,603] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('646def46-1f5a-4ada-b649-a020d3166ef9', '2022-04-18', 'fba2677d-fb0d-47d2-8b27-372853952089', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 13:55:59,618] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('646def46-1f5a-4ada-b649-a020d3166ef9', '2022-04-18', 'fba2677d-fb0d-47d2-8b27-372853952089', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 13:55:59,618] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,618] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,619] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('646def46-1f5a-4ada-b649-a020d3166ef9', '9ccb112c-d687-400a-9f38-0142af203c60');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 13:55:59,634] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('646def46-1f5a-4ada-b649-a020d3166ef9', '9ccb112c-d687-400a-9f38-0142af203c60');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 13:55:59,635] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,635] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 13:55:59,636] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 13:55:59,888] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (251ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 13:55:59,889] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,890] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 13:55:59,892] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 13:55:59,899] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 13:55:59,900] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 13:55:59,902] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 13:55:59,903] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 13:55:59,911] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 13:55:59,915] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 13:55:59,930] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 13:55:59,933] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 13:55:59,933] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:55:59,934] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 13:56:00,073] [10] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 13:56:00,330] [10] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 13:56:00,354] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 13:56:00,355] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 13:56:00,356] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 13:56:00,356] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 13:56:00,359] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 13:56:00,412] [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 13:56:00,429] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 13:56:00,430] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 13:56:00,431] [10] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:03,779] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:02:03,809] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:02:03,813] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:02:07,843] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:02:08,015] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:02:08,547] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:02:08,548] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:02:08,776] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:02:08,821] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:09,030] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:09,043] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:09,057] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (9ms).
[2022-04-18 14:02:09,072] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:09,113] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:09,118] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:09,126] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:09,172] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:02:09,175] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:02:09,176] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:09,177] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:09,178] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:02:09,185] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:02:09,186] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:09,186] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:09,187] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:02:09,276] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:02:09,277] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:02:09,277] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:02:09,279] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:19,328] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:19,343] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:02:19,347] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:02:19,348] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:19,349] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:19,350] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:02:20,645] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,295ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:02:20,646] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:20,647] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:20,648] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:02:21,037] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (389ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:02:21,038] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:02:21,039] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:02:21,041] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,048] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,049] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,049] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,050] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:21,053] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:21,053] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,054] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,124] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,131] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,153] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,169] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,178] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,186] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:21,271] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:02:21,304] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:02:21,348] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:02:21,352] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:02:21,401] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,402] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,405] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:02:21,410] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:02:21,411] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,411] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,413] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,498] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,498] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,499] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,499] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,504] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,504] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,504] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,505] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,507] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:21,507] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,507] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,508] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,511] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,512] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,512] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,512] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,515] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,515] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,516] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,516] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,521] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:21,521] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,521] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,522] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('ab0bc549-23db-4098-a52d-f6326e8abb63', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:02:21,557] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('ab0bc549-23db-4098-a52d-f6326e8abb63', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:02:21,558] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,558] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,558] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:02:21,571] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:02:21,572] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,572] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,572] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('e312a9aa-a90c-4edc-90c8-c00b6e3a263b', '2022-04-18T14:02:08.5034884+08:00', '2022-04-18T14:02:08.5036117+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:02:21,585] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('e312a9aa-a90c-4edc-90c8-c00b6e3a263b', '2022-04-18T14:02:08.5034884+08:00', '2022-04-18T14:02:08.5036117+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:02:21,585] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,586] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,586] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:02:21,597] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:02:21,598] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,598] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,598] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', '2022-04-18', 'ab0bc549-23db-4098-a52d-f6326e8abb63', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:02:21,612] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', '2022-04-18', 'ab0bc549-23db-4098-a52d-f6326e8abb63', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:02:21,612] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,613] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,613] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:02:21,624] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:02:21,625] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,625] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,626] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:02:21,629] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:02:21,630] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,630] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,631] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:02:21,636] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:02:21,636] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:21,637] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:21,637] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:02:21,641] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:02:21,643] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:02:21,648] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:02:21,651] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:02:21,652] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,652] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,808] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:02:21,963] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:02:21,985] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:02:21,986] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:02:21,987] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,987] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:21,988] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:02:21,998] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:02:22,012] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:22,019] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:02:22,020] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:22,021] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:22,099] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:02:22,105] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:02:23,813] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:02:23,831] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:02:23,843] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:23,844] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:23,845] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:23,846] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:23,847] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:23,855] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:23,856] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:23,856] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:23,858] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:02:23,863] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:02:23,864] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:23,865] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:23,872] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:02:23,880] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:02:23,881] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:23,881] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:23,882] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:02:23,964] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (82ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:02:23,965] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:02:23,965] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:02:23,965] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:33,987] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:33,993] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:02:33,995] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:02:33,997] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:33,997] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:33,998] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:02:35,331] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,333ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:02:35,332] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,333] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,335] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:02:35,724] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (388ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:02:35,725] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:02:35,725] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:02:35,726] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,732] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,733] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,734] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,735] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:35,737] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:02:35,737] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,738] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,740] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,741] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,742] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,743] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,744] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,744] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,749] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:02:35,751] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:02:35,753] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:02:35,754] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:02:35,758] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,758] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,759] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:02:35,760] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:02:35,760] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,760] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,761] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,809] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,809] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,810] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,810] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,812] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,813] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,813] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,814] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,816] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:02:35,816] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,816] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,817] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,835] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,835] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,836] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,836] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,839] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,840] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,840] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,840] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,843] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:02:35,844] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,844] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,845] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('ab0bc549-23db-4098-a52d-f6326e8abb63', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:02:35,889] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('ab0bc549-23db-4098-a52d-f6326e8abb63', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:02:35,890] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,890] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,891] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:02:35,904] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:02:35,904] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,904] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,905] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('e312a9aa-a90c-4edc-90c8-c00b6e3a263b', '2022-04-18T14:02:08.5034884+08:00', '2022-04-18T14:02:08.5036117+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:02:35,918] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('e312a9aa-a90c-4edc-90c8-c00b6e3a263b', '2022-04-18T14:02:08.5034884+08:00', '2022-04-18T14:02:08.5036117+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:02:35,919] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,919] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,920] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:02:35,931] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('b2d44baf-8a52-4c07-af2b-c2ac10989f52', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:02:35,932] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,932] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,932] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', '2022-04-18', 'ab0bc549-23db-4098-a52d-f6326e8abb63', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:02:35,949] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', '2022-04-18', 'ab0bc549-23db-4098-a52d-f6326e8abb63', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:02:35,950] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,950] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,951] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:02:35,966] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b6769f92-ff10-44a0-8f7b-3a4fd52e9223', 'e312a9aa-a90c-4edc-90c8-c00b6e3a263b');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:02:35,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,968] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:02:35,971] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:02:35,972] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,972] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,972] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:02:35,975] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:02:35,976] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:02:35,976] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:02:35,976] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:02:35,979] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:02:35,979] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:02:35,981] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:02:35,982] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:02:35,982] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,982] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,986] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:02:35,988] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:02:35,989] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:02:35,989] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,990] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,990] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:02:35,992] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:02:35,993] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:02:35,993] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:02:35,994] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,994] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:02:35,998] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:02:35,999] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:09:56,138] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:09:56,167] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:09:56,171] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:10:00,310] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:10:00,483] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:10:00,975] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:10:00,975] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:10:01,214] [5] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:10:01,261] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:01,454] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:01,472] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:01,484] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (14ms).
[2022-04-18 14:10:01,507] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:10:01,554] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:10:01,557] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:01,565] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:01,605] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:10:01,607] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:10:01,608] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:01,609] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:01,609] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:10:01,617] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:10:01,617] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:01,618] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:01,618] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:10:01,711] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:10:01,712] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:10:01,713] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:10:01,715] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:11,751] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:11,762] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:10:11,766] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:10:11,767] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:11,768] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:11,768] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:10:12,995] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,226ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:10:12,996] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:12,997] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:12,998] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:10:13,388] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (390ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:10:13,391] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:10:13,395] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:10:13,400] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,411] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,413] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,414] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 14:10:13,416] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:10:13,418] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:10:13,418] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,423] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,504] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,510] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,534] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,549] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,557] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,566] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:13,659] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:10:13,693] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:10:13,737] [5] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:10:13,740] [5] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:10:13,771] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,771] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:13,774] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:10:13,780] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:10:13,782] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,782] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,784] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,873] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,874] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,875] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,876] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,886] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,888] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,889] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,889] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,900] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:10:13,900] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,901] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,901] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:10:13,905] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:10:13,905] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,906] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,906] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:10:13,910] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:10:13,911] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,911] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,911] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:10:13,917] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:10:13,917] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,918] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,918] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('490cda11-e31a-40f5-a621-e72b47c09061', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:10:13,966] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('490cda11-e31a-40f5-a621-e72b47c09061', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:10:13,966] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,967] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,968] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('64d8568b-d0cb-401b-b3a9-815615c41307', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:10:13,986] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('64d8568b-d0cb-401b-b3a9-815615c41307', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:10:13,987] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:13,987] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:13,988] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('8253e198-7979-4174-bc00-2b1557ec10d3', '2022-04-18T14:10:00.9375482+08:00', '2022-04-18T14:10:00.9376615+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:10:14,005] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('8253e198-7979-4174-bc00-2b1557ec10d3', '2022-04-18T14:10:00.9375482+08:00', '2022-04-18T14:10:00.9376615+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:10:14,005] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,006] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,006] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('64d8568b-d0cb-401b-b3a9-815615c41307', '8253e198-7979-4174-bc00-2b1557ec10d3', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:10:14,025] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('64d8568b-d0cb-401b-b3a9-815615c41307', '8253e198-7979-4174-bc00-2b1557ec10d3', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:10:14,025] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,025] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,026] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('5e47bb74-5343-41b7-85b7-a9bb2f441768', '2022-04-18', '490cda11-e31a-40f5-a621-e72b47c09061', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:10:14,045] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('5e47bb74-5343-41b7-85b7-a9bb2f441768', '2022-04-18', '490cda11-e31a-40f5-a621-e72b47c09061', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:10:14,047] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,047] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,048] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('5e47bb74-5343-41b7-85b7-a9bb2f441768', '8253e198-7979-4174-bc00-2b1557ec10d3');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:10:14,068] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('5e47bb74-5343-41b7-85b7-a9bb2f441768', '8253e198-7979-4174-bc00-2b1557ec10d3');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:10:14,069] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,069] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,070] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:10:14,073] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:10:14,073] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,074] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,074] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:10:14,077] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:10:14,078] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:10:14,078] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:10:14,079] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:10:14,083] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:10:14,086] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:10:14,090] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:10:14,093] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:10:14,093] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,094] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,222] [5] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:10:14,376] [5] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:10:14,397] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:10:14,398] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:10:14,398] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,399] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,400] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:10:14,410] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:10:14,425] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:10:14,431] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:10:14,432] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,434] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:10:14,503] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:10:14,506] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:12:54,580] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:12:54,608] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:12:54,622] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:12:59,303] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:12:59,502] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:12:59,639] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:13:00,245] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:13:00,246] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:13:00,555] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:13:00,758] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:13:00,793] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:13:00,836] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (38ms).
[2022-04-18 14:13:00,845] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:13:01,046] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:13:01,057] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:13:01,097] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:13:01,126] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:13:01,164] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:13:01,171] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:13:01,177] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:13:01,279] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:13:01,282] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:14:08,017] [14] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:14:13,889] [14] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:14:13,924] [14] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:14:15,148] [14] DEBUG Microsoft.EntityFrameworkCore.Update - SaveChanges starting for 'RichCatContext'.
[2022-04-18 14:14:15,151] [14] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:14:15,168] [14] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:14:15,179] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:14:15,181] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:14:15,183] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:14:15,193] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:14:15,243] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:14:15,244] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:14:15,256] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = Guid), @p3='?' (Size = 128), @p4='?' (DbType = Date), @p5='?' (Size = 64), @p6='?' (Size = 512), @p7='?' (Size = 256), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
[2022-04-18 14:14:15,320] [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = Guid), @p3='?' (Size = 128), @p4='?' (DbType = Date), @p5='?' (Size = 64), @p6='?' (Size = 512), @p7='?' (Size = 256), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
[2022-04-18 14:14:15,322] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:14:15,325] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:14:15,328] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:14:15,329] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:14:15,330] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:14:15,332] [14] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:14:15,342] [14] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - An 'User' entity tracked by 'RichCatContext' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:14:15,344] [14] DEBUG Microsoft.EntityFrameworkCore.Update - SaveChanges completed for 'RichCatContext' with 1 entities written to the database.
[2022-04-18 14:16:57,359] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:16:57,388] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:16:57,396] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:17:02,216] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:17:02,398] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:17:02,549] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:17:03,105] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:17:03,106] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:17:03,339] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:17:03,534] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:17:03,563] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:17:03,603] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (37ms).
[2022-04-18 14:17:03,612] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:17:03,810] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:17:03,818] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:17:03,860] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 14:17:03,885] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:17:03,920] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:17:03,926] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:17:03,929] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:17:03,936] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:17:04,048] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:17:04,051] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:19:11,339] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:19:11,364] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:19:11,368] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:19:15,989] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:19:16,168] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:19:16,327] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:19:16,905] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:19:16,906] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:19:17,237] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:19:17,580] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:19:17,629] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:19:17,674] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (45ms).
[2022-04-18 14:19:17,683] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:19:17,920] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:19:17,933] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:19:17,981] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:19:18,004] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:19:18,042] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:19:18,078] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:19:18,089] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:19:18,093] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:19:18,104] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:23:07,245] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:23:07,272] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:23:07,276] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:23:11,490] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:23:11,656] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:23:11,835] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:23:12,354] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:23:12,355] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:23:12,619] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:23:12,925] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:23:12,959] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:23:13,009] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (46ms).
[2022-04-18 14:23:13,017] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:23:13,199] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:23:13,215] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:23:13,275] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:23:13,299] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:23:13,331] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:23:13,349] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:23:13,357] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:23:13,360] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:23:13,366] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:23:56,333] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:23:56,359] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:23:56,372] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:24:01,800] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:24:02,027] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:24:02,200] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:24:02,943] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:24:02,944] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:24:03,321] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:24:03,604] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:24:03,647] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:24:03,695] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (44ms).
[2022-04-18 14:24:03,704] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:24:03,874] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:24:03,884] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:24:03,924] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:24:03,945] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:24:03,975] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:24:03,990] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:24:03,996] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:24:03,999] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:24:04,007] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:24:04,086] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:24:04,088] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 14:44:50,989] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:44:51,013] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:44:51,022] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:44:55,136] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:44:55,303] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:44:55,826] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:44:55,827] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:44:56,048] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:44:56,131] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:44:56,342] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:44:56,358] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:44:56,369] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (9ms).
[2022-04-18 14:44:56,378] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:44:56,411] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:44:56,416] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:44:56,421] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:44:56,476] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:44:56,480] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:44:56,481] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:44:56,481] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:44:56,482] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:44:59,503] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3,021ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:44:59,504] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:44:59,505] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:44:59,505] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:44:59,635] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (130ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:44:59,635] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:44:59,636] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:44:59,638] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:09,676] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:09,687] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:45:09,690] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:45:09,690] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:45:09,691] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:45:09,692] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:45:10,974] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,281ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:45:10,975] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:45:10,976] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:45:10,977] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:45:11,365] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (388ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:45:11,367] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:45:11,368] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:45:11,370] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,374] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,375] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:45:11,375] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:45:11,376] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:45:11,377] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:45:11,378] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,379] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,484] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,491] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,518] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,535] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,544] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,566] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:45:11,658] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:45:11,684] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:45:11,737] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:45:11,743] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:45:11,780] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,781] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:45:11,783] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:45:11,789] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:45:11,791] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:45:11,791] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:45:11,792] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:45:11,854] [4] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:46:21,997] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:46:22,038] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:46:22,047] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:46:32,471] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:46:32,656] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:46:33,251] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:46:33,252] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:46:33,469] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:46:33,519] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:33,719] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:33,742] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:33,754] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (15ms).
[2022-04-18 14:46:33,768] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:46:33,800] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:46:33,804] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:33,810] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:33,846] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:46:33,850] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:46:33,851] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:33,852] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:33,852] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:46:33,858] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:46:33,859] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:33,859] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:33,860] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:46:33,964] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:46:33,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:46:33,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:46:33,968] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:43,991] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:43,996] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:46:43,998] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:46:43,999] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:44,000] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:44,000] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:46:45,398] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,397ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:46:45,399] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:45,400] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:45,400] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:46:45,788] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (387ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:46:45,789] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:46:45,790] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:46:45,792] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:45,801] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:45,802] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:45,802] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:45,803] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:46:45,805] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:46:45,805] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:45,805] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:45,894] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:45,902] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:45,938] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:45,958] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:45,972] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:45,980] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:46:46,114] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:46:46,154] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:46:46,206] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:46:46,210] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:46:46,255] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:46,256] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:46:46,260] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:46:46,270] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:46:46,271] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,272] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,273] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,361] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,362] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,362] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,363] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:46:46,368] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:46:46,368] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,369] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,369] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:46:46,373] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:46:46,373] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,373] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,374] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,380] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,380] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,381] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,383] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:46:46,387] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:46:46,387] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,388] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,388] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,391] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:46:46,392] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:46:46,392] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:46:46,393] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('8a8d3181-9e65-4e72-873e-60b900aeab2c', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:46:46,446] [4] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('8a8d3181-9e65-4e72-873e-60b900aeab2c', 0, N'Departments', '00000000-0000-0000-0000-000000000000', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:48:31,603] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:48:31,625] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:48:31,628] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:48:36,349] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:48:36,570] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:48:37,158] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:48:37,159] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:48:37,395] [5] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:48:37,443] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:37,647] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:37,657] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:37,664] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (7ms).
[2022-04-18 14:48:37,676] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:48:37,707] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:48:37,711] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:37,716] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:37,752] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:48:37,755] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:48:37,756] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:37,757] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:37,757] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:48:37,764] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:48:37,765] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:37,765] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:37,765] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:48:37,877] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (112ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:48:37,878] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:48:37,878] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:48:37,880] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:47,910] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:47,918] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:48:47,921] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:48:47,922] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:47,923] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:47,924] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:48:49,319] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,395ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:48:49,320] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:49,321] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:49,321] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:48:49,671] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (348ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:48:49,675] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:48:49,679] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:48:49,684] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:49,694] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:49,696] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:49,697] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 14:48:49,698] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:48:49,701] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:48:49,703] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:49,703] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:49,792] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,798] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,820] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,832] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,841] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,849] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:49,944] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:48:49,977] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:48:50,022] [5] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:48:50,026] [5] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:48:50,071] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,072] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,074] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:48:50,079] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:48:50,081] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,081] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,082] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,141] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,141] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,141] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,142] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:48:50,145] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:48:50,145] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,146] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,146] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:48:50,148] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:48:50,148] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,149] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,149] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,155] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,156] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,156] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,157] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:48:50,161] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:48:50,162] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,162] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,162] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,166] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:48:50,167] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,167] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,168] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('b3087ce5-dc9d-437d-b43e-562fb41ef668', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:48:50,203] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('b3087ce5-dc9d-437d-b43e-562fb41ef668', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:48:50,204] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,204] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,205] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('4bf6aff0-5311-43a7-8de0-dd46bf37bef7', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:48:50,221] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('4bf6aff0-5311-43a7-8de0-dd46bf37bef7', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:48:50,221] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,222] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,222] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('d4c8851f-d139-4d17-b4d4-fa593774ffa2', '2022-04-18T14:48:37.1192219+08:00', '2022-04-18T14:48:37.1193688+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:48:50,234] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('d4c8851f-d139-4d17-b4d4-fa593774ffa2', '2022-04-18T14:48:37.1192219+08:00', '2022-04-18T14:48:37.1193688+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:48:50,234] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,236] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 14:48:50,237] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('4bf6aff0-5311-43a7-8de0-dd46bf37bef7', 'd4c8851f-d139-4d17-b4d4-fa593774ffa2', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:48:50,249] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('4bf6aff0-5311-43a7-8de0-dd46bf37bef7', 'd4c8851f-d139-4d17-b4d4-fa593774ffa2', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:48:50,249] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,250] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,250] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('15ba2d62-eab9-418e-b818-07166568111a', '2022-04-18', 'b3087ce5-dc9d-437d-b43e-562fb41ef668', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:48:50,264] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('15ba2d62-eab9-418e-b818-07166568111a', '2022-04-18', 'b3087ce5-dc9d-437d-b43e-562fb41ef668', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:48:50,265] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,265] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,266] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('15ba2d62-eab9-418e-b818-07166568111a', 'd4c8851f-d139-4d17-b4d4-fa593774ffa2');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:48:50,278] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('15ba2d62-eab9-418e-b818-07166568111a', 'd4c8851f-d139-4d17-b4d4-fa593774ffa2');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:48:50,279] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,279] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,280] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 14:48:50,283] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 14:48:50,283] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,284] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,284] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:48:50,288] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:48:50,289] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,289] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,290] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:48:50,293] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:48:50,293] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:48:50,294] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:48:50,294] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:48:50,297] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:48:50,299] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:48:50,305] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:48:50,308] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:48:50,308] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,309] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,443] [5] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:48:50,744] [5] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:48:50,765] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:48:50,766] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:48:50,766] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,766] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,768] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:48:50,784] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:48:50,801] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:50,809] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:48:50,817] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:48:50,821] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:48:50,824] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:05,839] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 14:52:05,866] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 14:52:05,877] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 14:52:10,134] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 14:52:10,330] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 14:52:10,893] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 14:52:10,895] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 14:52:11,353] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 14:52:11,421] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:11,661] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:11,679] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:11,705] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (14ms).
[2022-04-18 14:52:11,729] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:52:11,787] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:52:11,796] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:11,828] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:11,937] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:52:11,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:52:11,968] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:11,969] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:11,970] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:52:12,007] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 14:52:12,008] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:12,012] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (4ms).
[2022-04-18 14:52:12,017] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:52:12,119] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (101ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 14:52:12,119] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:52:12,120] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:52:12,122] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:22,165] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:22,178] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 14:52:22,180] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 14:52:22,180] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:22,181] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:22,182] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:52:23,584] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,402ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 14:52:23,585] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:23,586] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:23,587] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:52:23,988] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (400ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 14:52:23,991] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 14:52:23,994] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 14:52:23,997] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,005] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,006] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,007] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,008] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:52:24,009] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 14:52:24,010] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,010] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,090] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,097] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,118] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,130] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,139] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,146] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:24,233] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 14:52:24,261] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 14:52:24,310] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 14:52:24,316] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 14:52:24,349] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,350] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,353] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 14:52:24,358] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 14:52:24,360] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,360] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,362] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,427] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,428] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,429] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,430] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:52:24,432] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 14:52:24,433] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,434] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,434] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:52:24,437] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 14:52:24,438] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,439] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,439] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,444] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,445] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,445] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,446] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:52:24,448] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 14:52:24,449] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,449] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,450] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,452] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 14:52:24,453] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,454] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,454] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('8ae35a0d-5007-4ec6-b9ba-366fd1608f54', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:52:24,488] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('8ae35a0d-5007-4ec6-b9ba-366fd1608f54', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 14:52:24,489] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,490] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,491] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('2dc3d988-75c3-488e-aa70-ee1e16ac3540', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:52:24,506] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('2dc3d988-75c3-488e-aa70-ee1e16ac3540', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 14:52:24,507] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,508] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,509] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('25272378-cb57-4769-98c2-924ef17cf715', '2022-04-18T14:52:10.8488159+08:00', '2022-04-18T14:52:10.8489448+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:52:24,521] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('25272378-cb57-4769-98c2-924ef17cf715', '2022-04-18T14:52:10.8488159+08:00', '2022-04-18T14:52:10.8489448+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 14:52:24,522] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,523] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,525] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('2dc3d988-75c3-488e-aa70-ee1e16ac3540', '25272378-cb57-4769-98c2-924ef17cf715', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:52:24,552] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('2dc3d988-75c3-488e-aa70-ee1e16ac3540', '25272378-cb57-4769-98c2-924ef17cf715', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 14:52:24,554] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,554] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,555] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b635a7b8-09fe-42b9-bc2f-e96e8f36bae1', '2022-04-18', '8ae35a0d-5007-4ec6-b9ba-366fd1608f54', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:52:24,572] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('b635a7b8-09fe-42b9-bc2f-e96e8f36bae1', '2022-04-18', '8ae35a0d-5007-4ec6-b9ba-366fd1608f54', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 14:52:24,573] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,574] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,575] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b635a7b8-09fe-42b9-bc2f-e96e8f36bae1', '25272378-cb57-4769-98c2-924ef17cf715');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:52:24,592] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('b635a7b8-09fe-42b9-bc2f-e96e8f36bae1', '25272378-cb57-4769-98c2-924ef17cf715');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 14:52:24,593] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,593] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,595] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 14:52:24,600] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 14:52:24,601] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,601] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,602] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:52:24,607] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 14:52:24,608] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,608] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,609] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:52:24,613] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 14:52:24,614] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 14:52:24,615] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 14:52:24,615] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:52:24,619] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 14:52:24,622] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:52:24,629] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 14:52:24,633] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 14:52:24,634] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,634] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:24,775] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 14:52:25,013] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 14:52:25,034] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 14:52:25,034] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 14:52:25,035] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:25,035] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:25,036] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:52:25,073] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 14:52:25,088] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:25,090] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 14:52:25,096] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 14:52:25,097] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 14:52:25,098] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:01:53,118] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:01:53,143] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:01:53,147] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:01:56,671] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:01:56,838] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:01:57,388] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:01:57,388] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:01:57,623] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:01:57,672] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:01:57,882] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:01:57,896] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:01:57,911] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (10ms).
[2022-04-18 15:01:57,929] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:01:57,977] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:01:57,981] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:01:57,987] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:01:58,027] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:01:58,030] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:01:58,031] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:01:58,031] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:01:58,032] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:01:58,038] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:01:58,039] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:01:58,040] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 15:01:58,040] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:01:58,143] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (102ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:01:58,143] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:01:58,144] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:01:58,145] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:08,183] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:08,200] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:02:08,202] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:02:08,203] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:08,204] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:08,205] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:02:09,533] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,328ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:02:09,534] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:09,535] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:09,536] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:02:09,937] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (400ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:02:09,940] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:02:09,943] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:02:09,948] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:09,964] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:09,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:09,966] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:09,967] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:02:09,969] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:02:09,970] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:09,971] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:10,047] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,054] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,076] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,088] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,097] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,104] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:10,207] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:02:10,232] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:02:10,282] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 15:02:10,286] [4] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 15:02:10,318] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:10,319] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:10,321] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 15:02:10,328] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 15:02:10,329] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,329] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,331] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:02:10,376] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:02:10,376] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,376] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,377] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:02:10,380] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:02:10,380] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,381] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,381] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:02:10,385] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:02:10,385] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,385] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,386] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:02:10,392] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:02:10,393] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,393] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,394] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:02:10,397] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:02:10,398] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,398] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,398] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:02:10,401] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:02:10,402] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,402] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,403] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:02:10,439] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:02:10,439] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,440] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,441] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:02:10,454] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:02:10,454] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,455] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,455] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:02:10,469] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:02:10,469] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,470] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,470] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:02:10,483] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:02:10,483] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,484] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,484] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:02:10,501] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:02:10,502] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,502] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,503] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:02:10,516] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:02:10,516] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,517] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,517] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:02:10,520] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:02:10,521] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,521] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,521] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:02:10,526] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:02:10,527] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,527] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,527] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:02:10,531] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:02:10,531] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:02:10,532] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:02:10,532] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:02:10,539] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:02:10,543] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:02:10,550] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:02:10,553] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 15:02:10,553] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:10,553] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:10,787] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:02:11,094] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:02:11,122] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:02:11,124] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (2ms).
[2022-04-18 15:02:11,125] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:11,125] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:11,126] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 15:02:11,142] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 15:02:11,156] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:11,158] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:02:11,164] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:02:11,165] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:11,166] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:02:11,257] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:02:11,260] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:07:14,692] [18] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:07:14,716] [18] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:07:14,719] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:14,725] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:14,726] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:14,740] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 15:07:14,741] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:07:14,755] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:07:14,756] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:14,757] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:14,758] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:07:14,771] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:07:14,771] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:14,773] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:14,785] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:07:17,803] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3,018ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:07:17,805] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:17,805] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:17,806] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:07:17,896] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:07:17,896] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:07:17,897] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:07:17,898] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:27,920] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:27,923] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:07:27,924] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:07:27,925] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:27,928] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (2ms).
[2022-04-18 15:07:27,934] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:07:29,202] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,268ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:07:29,203] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,204] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,205] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:07:29,572] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (368ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:07:29,573] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:07:29,574] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:07:29,575] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,580] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,580] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,581] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,582] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:07:29,585] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:07:29,586] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,587] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,590] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,592] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,594] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,596] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,596] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,597] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:29,603] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:07:29,604] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:07:29,606] [18] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 15:07:29,606] [18] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 15:07:29,609] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,610] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,611] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 15:07:29,612] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 15:07:29,613] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,613] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,614] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:07:29,646] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:07:29,647] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,647] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,648] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:07:29,651] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:07:29,652] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,652] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,653] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:07:29,655] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:07:29,655] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,655] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,656] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:07:29,659] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:07:29,659] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,660] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,660] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:07:29,663] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:07:29,663] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,664] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,664] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:07:29,669] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:07:29,669] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,669] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,670] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:07:29,724] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:07:29,724] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,725] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,725] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:07:29,755] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:07:29,755] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,756] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,756] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:07:29,774] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:07:29,774] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,775] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,775] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:07:29,791] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:07:29,792] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,792] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,793] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:07:29,810] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:07:29,810] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,811] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,811] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:07:29,830] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:07:29,830] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,831] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,831] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:07:29,837] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:07:29,837] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,837] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,838] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:07:29,841] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:07:29,842] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,842] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,843] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:07:29,846] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:07:29,847] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:07:29,847] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:07:29,848] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:07:29,853] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:07:29,853] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:07:29,855] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:07:29,856] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 15:07:29,857] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:29,857] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:58,644] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:58,648] [18] DEBUG Microsoft.EntityFrameworkCore.Update - SaveChanges starting for 'RichCatContext'.
[2022-04-18 15:07:58,653] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:07:58,669] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:07:58,679] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:58,680] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:58,681] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 15:07:58,682] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 15:07:58,690] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:07:58,690] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 15:07:58,710] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = Guid), @p3='?' (Size = 128), @p4='?' (DbType = Date), @p5='?' (Size = 64), @p6='?' (Size = 512), @p7='?' (Size = 256), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
[2022-04-18 15:07:58,763] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = Guid), @p3='?' (Size = 128), @p4='?' (DbType = Date), @p5='?' (Size = 64), @p6='?' (Size = 512), @p7='?' (Size = 256), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
[2022-04-18 15:07:58,767] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:07:58,768] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:07:58,770] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:07:58,771] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:58,772] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:07:58,773] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 15:07:58,788] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - An 'User' entity tracked by 'RichCatContext' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:07:58,790] [18] DEBUG Microsoft.EntityFrameworkCore.Update - SaveChanges completed for 'RichCatContext' with 1 entities written to the database.
[2022-04-18 15:07:58,794] [18] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:07:58,801] [18] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:08:12,503] [18] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:08:12,577] [18] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:08:12,591] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:12,594] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:12,596] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:12,597] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:12,598] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:08:12,607] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:08:12,608] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:12,608] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:12,610] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:08:12,618] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:08:12,618] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:12,619] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:12,620] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:08:12,625] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2022-04-18 15:08:12,626] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:12,627] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:12,627] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:08:12,730] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (103ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [RichCat];
[2022-04-18 15:08:12,731] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:08:12,731] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:08:12,732] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:22,759] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:22,761] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:08:22,762] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:08:22,762] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:22,763] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:22,763] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:08:24,096] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,333ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:08:24,097] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,097] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,098] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:08:24,480] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (381ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:08:24,481] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:08:24,483] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:08:24,485] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,497] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,499] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,501] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (2ms).
[2022-04-18 15:08:24,504] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:08:24,510] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:08:24,512] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,513] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,518] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,518] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,519] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,520] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,520] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,521] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,525] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:08:24,526] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:08:24,527] [18] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 15:08:24,528] [18] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 15:08:24,530] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,531] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,531] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 15:08:24,533] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 15:08:24,533] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,534] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,534] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:08:24,574] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:08:24,574] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,575] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,575] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:08:24,578] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:08:24,578] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,579] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,579] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:08:24,581] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:08:24,581] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,582] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,582] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:08:24,586] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:08:24,587] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,587] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,588] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:08:24,590] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:08:24,591] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,591] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,592] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:08:24,595] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:08:24,595] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,595] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,596] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:08:24,635] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('bfa266b1-12e0-4072-92d8-0dd1f1035a2b', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:08:24,635] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,636] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,636] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:08:24,649] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:08:24,650] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,650] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,651] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:08:24,670] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', '2022-04-18T15:01:57.3345687+08:00', '2022-04-18T15:01:57.3347711+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:08:24,671] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,671] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,672] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:08:24,685] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('87ca8634-b412-451e-9c43-54ef1541b721', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:08:24,686] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,686] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,686] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:08:24,699] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '2022-04-18', 'bfa266b1-12e0-4072-92d8-0dd1f1035a2b', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:08:24,700] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,700] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,701] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:08:24,712] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('f51b4bb5-d4a4-4983-90e0-f191c30fecbb', '11e132ca-b0cc-4c5b-9ab3-6e2b248ae637');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:08:24,712] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,712] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,713] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:08:24,717] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:08:24,717] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,718] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,718] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:08:24,721] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:08:24,722] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,722] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,722] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:08:24,725] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:08:24,726] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:08:24,726] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:08:24,727] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:08:24,730] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:08:24,730] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:08:24,733] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:08:24,733] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 15:08:24,734] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,734] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,739] [18] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:08:24,793] [18] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:08:24,795] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:08:24,795] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 15:08:24,795] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,796] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,796] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:08:24,805] [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:08:24,807] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,807] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,811] [18] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:08:24,812] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:08:24,813] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:08:24,813] [18] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:09:32,674] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:09:32,698] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:09:32,702] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:09:36,760] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:09:36,928] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:09:37,094] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:09:37,629] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:09:37,630] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:09:37,910] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:09:38,217] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:09:38,259] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:09:38,298] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (36ms).
[2022-04-18 15:09:38,307] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:09:38,536] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:09:38,545] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:09:38,580] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:09:38,602] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:09:38,630] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:09:38,651] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:09:38,667] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:09:38,674] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:09:38,681] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:10:44,758] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:10:44,783] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:10:44,788] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:10:49,540] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:10:49,711] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:10:49,855] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:10:50,366] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:10:50,367] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:10:50,629] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:10:50,946] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:10:50,978] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:10:51,023] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (41ms).
[2022-04-18 15:10:51,030] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:10:51,217] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:10:51,229] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:10:51,265] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:10:51,284] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:10:51,311] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:10:51,332] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:10:51,345] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:10:51,348] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:10:51,355] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:11:56,236] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:11:56,285] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:11:56,301] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:11:59,958] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:12:00,570] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:12:00,762] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:12:01,582] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:12:01,583] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:12:01,890] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:12:02,200] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:12:02,254] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:12:02,527] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (266ms).
[2022-04-18 15:12:02,541] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:12:02,861] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:12:02,875] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:12:02,941] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:12:02,985] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:12:03,047] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:12:03,086] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:12:03,101] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:12:03,104] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:12:03,113] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:14:00,707] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:14:00,736] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:14:00,750] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:14:05,808] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:14:05,963] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:14:06,122] [5] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:14:06,659] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:14:06,660] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:14:06,890] [5] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:14:07,181] [5] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:14:07,215] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:14:07,254] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (35ms).
[2022-04-18 15:14:07,262] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:14:07,441] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:14:07,450] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:14:07,484] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:14:07,504] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:14:07,532] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:14:07,553] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:14:07,565] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:14:07,568] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:14:07,574] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:16:13,641] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:16:13,666] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:16:13,670] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:16:18,698] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:16:18,851] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:16:18,999] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:16:19,548] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:16:19,549] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:16:19,782] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:16:20,142] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:16:20,172] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:16:20,210] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (34ms).
[2022-04-18 15:16:20,220] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:16:20,403] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:16:20,411] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:16:20,444] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:16:20,465] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:16:20,491] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:16:20,534] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:16:20,548] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:16:20,552] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:16:20,560] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:16:56,623] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:16:56,720] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:16:56,724] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:17:01,191] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:17:01,353] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:17:01,521] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:17:02,188] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:17:02,189] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:17:02,488] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:17:02,807] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:17:02,838] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:17:02,878] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (37ms).
[2022-04-18 15:17:02,888] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:03,077] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:03,086] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 15:17:03,134] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
[2022-04-18 15:17:03,162] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:17:03,217] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:17:03,240] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:17:03,245] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:03,252] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:03,333] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:17:03,336] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:17:26,572] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:17:26,617] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:17:26,627] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:17:32,212] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:17:32,364] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:17:32,517] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:17:33,034] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:17:33,035] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:17:33,266] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:17:33,654] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:17:33,689] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:17:33,745] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (49ms).
[2022-04-18 15:17:33,757] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:33,988] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:33,997] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:17:34,066] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:17:34,117] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:17:34,203] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:17:34,240] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:17:34,260] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:17:34,271] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:17:34,292] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:22:46,591] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:22:46,615] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:22:46,619] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:22:50,899] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:22:51,071] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:22:51,264] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:22:51,780] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:22:51,781] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:22:52,028] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:22:52,364] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:22:52,395] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:22:52,433] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (35ms).
[2022-04-18 15:22:52,442] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:22:52,649] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:22:52,658] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:22:52,695] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:22:52,718] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:22:52,764] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:22:52,786] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:22:52,799] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:22:52,802] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:22:52,809] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:22:52,892] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:22:52,895] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:24:51,131] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:24:51,163] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:24:51,167] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:25:07,990] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:25:08,174] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:25:08,317] [5] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:25:08,836] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:25:08,842] [5] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:25:09,107] [5] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:25:09,450] [5] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:25:09,488] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:25:09,534] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (43ms).
[2022-04-18 15:25:09,541] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:25:09,734] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:25:09,742] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:25:09,779] [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:25:09,801] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:25:09,831] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:25:09,856] [5] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:25:09,868] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:25:09,872] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:25:09,884] [5] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:25:09,982] [5] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:25:09,984] [5] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:27:52,913] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:27:53,389] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:27:53,391] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:27:53,672] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:27:53,823] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,831] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Menu' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,849] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'MenuRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,861] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,870] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,877] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:27:53,973] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:27:54,011] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:27:54,048] [1] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (3) is smaller than the minimum batch size (4).
[2022-04-18 15:27:54,051] [1] DEBUG Microsoft.EntityFrameworkCore.Update - Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
[2022-04-18 15:27:54,155] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:28:05,338] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:28:05,855] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:28:05,857] [1] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:28:06,141] [1] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[2022-04-18 15:28:06,193] [1] DEBUG Microsoft.EntityFrameworkCore.Migrations - Migrating using database 'RichCat' on server '.'.
[2022-04-18 15:28:06,204] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:06,384] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:06,902] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:16,944] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:16,946] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:16,949] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - An error occurred using the connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:17,007] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'master' on server '.'.
[2022-04-18 15:28:17,032] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'master' on server '.'.
[2022-04-18 15:28:17,044] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:17,054] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (9ms).
[2022-04-18 15:28:17,065] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:28:18,521] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,452ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [RichCat];
[2022-04-18 15:28:18,528] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:18,529] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (1ms).
[2022-04-18 15:28:18,531] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:28:18,863] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (332ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RichCat] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-04-18 15:28:18,868] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'master' on server '.'.
[2022-04-18 15:28:18,875] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'master' on server '.'.
[2022-04-18 15:28:18,876] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,880] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,881] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:18,882] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:18,882] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:28:18,891] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:28:18,892] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,892] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,975] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges starting for 'RichCatContext'.
[2022-04-18 15:28:18,978] [1] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - DetectChanges completed for 'RichCatContext'.
[2022-04-18 15:28:18,989] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:18,990] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:18,990] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,991] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:18,992] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 15:28:19,028] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-04-18 15:28:19,029] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,029] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,031] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,032] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,032] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,033] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,033] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:28:19,034] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
[2022-04-18 15:28:19,035] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,036] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,038] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteScalar'.
[2022-04-18 15:28:19,038] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteScalar' (0ms).
[2022-04-18 15:28:19,039] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,039] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,040] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 15:28:19,060] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-04-18 15:28:19,060] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,062] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,066] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:28:19,066] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 15:28:19,067] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,067] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,069] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 15:28:19,073] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-04-18 15:28:19,076] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:28:19,078] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,078] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,097] [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20220418072754_RichCatInitial'.
[2022-04-18 15:28:19,185] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,188] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,194] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Beginning transaction with isolation level 'Unspecified'.
[2022-04-18 15:28:19,206] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Began transaction with isolation level 'ReadCommitted'.
[2022-04-18 15:28:19,207] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,208] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,209] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,213] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [ParentId] uniqueidentifier NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Departments_Departments_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,213] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,214] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,215] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:28:19,258] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Url] nvarchar(1024) NOT NULL,
    [ParentId] uniqueidentifier NOT NULL,
    [Level] int NOT NULL,
    [Order] nvarchar(64) NOT NULL,
    [Status] int NOT NULL,
    [Remark] nvarchar(64) NOT NULL,
    [Ico] nvarchar(1024) NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
[2022-04-18 15:28:19,258] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,259] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,259] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:28:19,261] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [description] nvarchar(1024) NOT NULL,
    [CreateTime] datetime2 NULL,
    [ModifyTime] datetime2 NULL,
    [RoleDefaultURL] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2022-04-18 15:28:19,262] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,263] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,263] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,266] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(64) NOT NULL,
    [Password] nvarchar(512) NOT NULL,
    [FullName] nvarchar(128) NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [Status] int NOT NULL,
    [CreateTime] date NOT NULL,
    [ModifyTime] date NOT NULL,
    [Remark] nvarchar(256) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,267] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,267] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,268] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:28:19,270] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MenuRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [MenuId] uniqueidentifier NOT NULL,
    [RoleType] int NOT NULL,
    [ButtonId] nvarchar(64) NULL,
    CONSTRAINT [PK_MenuRoles] PRIMARY KEY ([MenuId], [RoleId]),
    CONSTRAINT [FK_MenuRoles_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);
[2022-04-18 15:28:19,271] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,271] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,272] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,275] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [RoleId] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
[2022-04-18 15:28:19,276] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,276] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,277] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('123f46ae-4c63-4cdb-814a-ae13a00a1034', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:28:19,328] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([Id], [Level], [Name], [ParentId], [Status])
VALUES ('123f46ae-4c63-4cdb-814a-ae13a00a1034', 0, N'Departments', NULL, 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Level', N'Name', N'ParentId', N'Status') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
[2022-04-18 15:28:19,328] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,329] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,330] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('c6e8bc91-4cd5-4261-aa04-82713c04f6d5', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:28:19,344] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [Ico], [Level], [Name], [Order], [ParentId], [Remark], [Status], [Url])
VALUES ('c6e8bc91-4cd5-4261-aa04-82713c04f6d5', N'', 0, N'menu1', N'', '00000000-0000-0000-0000-000000000000', N'', 0, N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ico', N'Level', N'Name', N'Order', N'ParentId', N'Remark', N'Status', N'Url') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
[2022-04-18 15:28:19,345] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,345] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,346] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('c9034d0a-fb56-4b16-96b3-8c3688a6cabb', '2022-04-18T15:27:53.3321060+08:00', '2022-04-18T15:27:53.3322705+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:28:19,358] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateTime], [ModifyTime], [Name], [RoleDefaultURL], [description])
VALUES ('c9034d0a-fb56-4b16-96b3-8c3688a6cabb', '2022-04-18T15:27:53.3321060+08:00', '2022-04-18T15:27:53.3322705+08:00', N'Role1', N'', N'');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'ModifyTime', N'Name', N'RoleDefaultURL', N'description') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
[2022-04-18 15:28:19,359] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,359] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,360] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('c6e8bc91-4cd5-4261-aa04-82713c04f6d5', 'c9034d0a-fb56-4b16-96b3-8c3688a6cabb', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:28:19,372] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] ON;
INSERT INTO [MenuRoles] ([MenuId], [RoleId], [ButtonId], [RoleType])
VALUES ('c6e8bc91-4cd5-4261-aa04-82713c04f6d5', 'c9034d0a-fb56-4b16-96b3-8c3688a6cabb', N'Button1', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuId', N'RoleId', N'ButtonId', N'RoleType') AND [object_id] = OBJECT_ID(N'[MenuRoles]'))
    SET IDENTITY_INSERT [MenuRoles] OFF;
[2022-04-18 15:28:19,373] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,373] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,374] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('e23e73a9-486a-44bd-b8b4-a85bbc68fe0e', '2022-04-18', '123f46ae-4c63-4cdb-814a-ae13a00a1034', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:28:19,388] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreateTime], [DepartmentId], [FullName], [ModifyTime], [Name], [Password], [Remark], [Status])
VALUES ('e23e73a9-486a-44bd-b8b4-a85bbc68fe0e', '2022-04-18', '123f46ae-4c63-4cdb-814a-ae13a00a1034', N'Tester1', '2022-04-18', N'Tester1', N'111111', N'', 0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateTime', N'DepartmentId', N'FullName', N'ModifyTime', N'Name', N'Password', N'Remark', N'Status') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
[2022-04-18 15:28:19,389] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,389] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,390] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('e23e73a9-486a-44bd-b8b4-a85bbc68fe0e', 'c9034d0a-fb56-4b16-96b3-8c3688a6cabb');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:28:19,402] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserId], [RoleId])
VALUES ('e23e73a9-486a-44bd-b8b4-a85bbc68fe0e', 'c9034d0a-fb56-4b16-96b3-8c3688a6cabb');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'RoleId') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-04-18 15:28:19,403] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,403] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,404] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:28:19,407] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Departments_ParentId] ON [Departments] ([ParentId]);
[2022-04-18 15:28:19,408] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,409] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,409] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:28:19,412] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MenuRoles_RoleId] ON [MenuRoles] ([RoleId]);
[2022-04-18 15:28:19,412] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,413] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,414] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:28:19,416] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
[2022-04-18 15:28:19,417] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,418] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,418] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:28:19,421] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_DepartmentId] ON [Users] ([DepartmentId]);
[2022-04-18 15:28:19,422] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteNonQuery'.
[2022-04-18 15:28:19,422] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteNonQuery' (0ms).
[2022-04-18 15:28:19,423] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418072754_RichCatInitial', N'3.1.24');
[2022-04-18 15:28:19,425] [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220418072754_RichCatInitial', N'3.1.24');
[2022-04-18 15:28:19,428] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:28:19,433] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Committing transaction.
[2022-04-18 15:28:19,435] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Transaction - Disposing transaction.
[2022-04-18 15:28:19,435] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,436] [1] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:28:19,438] [1] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:37:07,891] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:37:07,915] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:37:07,918] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:37:12,008] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:37:12,308] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:37:12,465] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:37:13,261] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:37:13,262] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:38:43,450] [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
[2022-04-18 15:38:43,482] [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
[2022-04-18 15:38:43,489] [1] INFO  Microsoft.Hosting.Lifetime - Content root path: F:\Workspace\Projects\Learning\RichCat\RichCat\RichCat.Web
[2022-04-18 15:38:48,269] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:38:48,473] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - An 'IServiceProvider' was created for internal use by Entity Framework.
[2022-04-18 15:38:48,643] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:38:49,182] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'MenuId'} was not created on entity type 'MenuRole' as the properties are already covered by the index {'MenuId', 'RoleId'}.
[2022-04-18 15:38:49,183] [4] DEBUG Microsoft.EntityFrameworkCore.Model - The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2022-04-18 15:38:49,761] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: using lazy-loading proxies 
[2022-04-18 15:38:49,951] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:38:49,976] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:38:50,020] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (40ms).
[2022-04-18 15:38:50,030] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:38:50,223] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:38:50,233] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 15:38:50,276] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 15:38:50,304] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:38:50,342] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:38:50,346] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:38:50,354] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:12,826] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - Navigation property 'Department' of entity type 'UserProxy' is being lazy-loaded.
[2022-04-18 15:39:12,954] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<Department>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Department>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:39:12,964] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:39:12,965] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (1ms).
[2022-04-18 15:39:12,970] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:12,971] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:12,978] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__p_0
[2022-04-18 15:39:13,026] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__p_0
[2022-04-18 15:39:13,030] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:39:13,065] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:39:13,066] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:13,067] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:14,578] [4] DEBUG Microsoft.EntityFrameworkCore.Query - queryContext => new QueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, User>, 
    RichCat.Infrastructure.RichCatContext, 
    null
)
[2022-04-18 15:39:14,580] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:39:14,581] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 15:39:14,581] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:14,582] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:14,583] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:39:14,594] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status], [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status], [u0].[UserId], [u0].[RoleId]
FROM [Users] AS [u]
INNER JOIN [Departments] AS [d] ON [u].[DepartmentId] = [d].[Id]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
ORDER BY [u].[Id], [d].[Id], [u0].[UserId], [u0].[RoleId]
[2022-04-18 15:39:14,604] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:39:14,609] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:39:14,610] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:14,611] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:17,233] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:39:17,237] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - 'RichCatContext' disposed.
[2022-04-18 15:39:36,068] [4] ERROR RichCat.Web.Utility.CustomActionFilterAttribute - this is CustomResourceFilterAttribute.OnResourceExcuting.
[2022-04-18 15:39:36,082] [4] INFO  RichCat.Web.Controllers.AgentsController - execute get USERSs...
[2022-04-18 15:39:36,157] [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 3.1.24 initialized 'RichCatContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: using lazy-loading proxies 
[2022-04-18 15:39:36,158] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:39:36,159] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (0ms).
[2022-04-18 15:39:36,161] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:36,161] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:36,161] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 15:39:36,181] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateTime], [u].[DepartmentId], [u].[FullName], [u].[ModifyTime], [u].[Name], [u].[Password], [u].[Remark], [u].[Status]
FROM [Users] AS [u]
[2022-04-18 15:39:36,183] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:39:36,185] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:39:36,185] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:39:36,186] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
[2022-04-18 15:40:01,690] [4] DEBUG Microsoft.EntityFrameworkCore.Infrastructure - Navigation property 'Department' of entity type 'UserProxy' is being lazy-loaded.
[2022-04-18 15:40:01,703] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Creating DbCommand for 'ExecuteReader'.
[2022-04-18 15:40:01,713] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Created DbCommand for 'ExecuteReader' (9ms).
[2022-04-18 15:40:01,718] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opening connection to database 'RichCat' on server '.'.
[2022-04-18 15:40:01,719] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Opened connection to database 'RichCat' on server '.'.
[2022-04-18 15:40:01,720] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__p_0
[2022-04-18 15:40:01,726] [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[Level], [d].[Name], [d].[ParentId], [d].[Status]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__p_0
[2022-04-18 15:40:01,727] [4] DEBUG Microsoft.EntityFrameworkCore.ChangeTracking - Context 'RichCatContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2022-04-18 15:40:01,730] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Command - A data reader was disposed.
[2022-04-18 15:40:01,731] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closing connection to database 'RichCat' on server '.'.
[2022-04-18 15:40:01,731] [4] DEBUG Microsoft.EntityFrameworkCore.Database.Connection - Closed connection to database 'RichCat' on server '.'.
